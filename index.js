(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var n,r;return n=t,(r=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.close(),t.target.classList.contains("popup__close")&&e.close()}))}},{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupElement.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.classList.remove("popup_opened")}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,n,i,u,l=(i=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(i);if(u){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=l.call(this,e))._popupPicture=t._popupElement.querySelector(".popup__image"),t._popupCaption=t._popupElement.querySelector(".popup__text"),t}return t=f,(n=[{key:"open",value:function(e,t){o(s(f.prototype),"open",this).call(this),this._popupPicture.src=t,this._popupPicture.alt=e,this._popupCaption.textContent=e}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(t);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t.renderer,this._selector=n,this._container=document.querySelector(this._selector)}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.forEach((function(e){t._container.append(t._renderer(e))}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorName=t.selectorName,this._selectorAvatar=t.selectorAvatar,this._selectorDescription=t.selectorDescription,this._nameElement=document.querySelector(this._selectorName),this._avatarElement=document.querySelector(this._selectorAvatar),this._descriptionElement=document.querySelector(this._selectorDescription)}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent,_id:this._userId,avatar:this.userAvatar}}},{key:"setUserInfo",value:function(e){this.userName=e.name,this.userAbout=e.about,this.userAvatar=e.avatar,this._userId=e._id,this._nameElement.textContent=this.userName,this._descriptionElement.textContent=this.userAbout,this._avatarElement.src=this.userAvatar,this._avatarElement.alt=this.userName}}],n&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t,n,r,o,i,a,c){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"_handleLikeClick",(function(){s._likeButton.classList.contains("element__button_active")?s._handleRemoveLikeCardClick(s):s._handleSetLikeCardClick(s)})),_(this,"handleDeleteCard",(function(){s._element.remove()})),_(this,"setLikesCounter",(function(e){s._counterLikes.textContent=e.length})),_(this,"setLikesButtonFlag",(function(e){e?s._likeButton.classList.add("element__button_active"):s._likeButton.classList.remove("element__button_active")})),this._name=t.name,this._currentUser=o,this._link=t.link,this._id=t._id,this._owner=t.owner,this._likes=t.likes,this._templateSelector=n,this._handleCardClick=r,this._handleRemoveCardClick=i,this._handleSetLikeCardClick=a,this._handleRemoveLikeCardClick=c}var t,n;return t=e,(n=[{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._handleLikeClick()})),this._owner._id==this._currentUser._id&&this._deleteButton.addEventListener("click",(function(){return e._handleRemoveCardClick(e)})),this._cardImage.addEventListener("click",(function(){return e._handleCardClick(e._name,e._link)}))}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"createCard",value:function(){var e=this;return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".element__image"),this._cardText=this._element.querySelector(".element__text"),this._likeButton=this._element.querySelector(".element__button"),this._deleteButton=this._element.querySelector(".element__delete"),this._counterLikes=this._element.querySelector(".element__counter-like"),this._owner._id!=this._currentUser._id&&this._deleteButton.remove(),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardText.textContent=this._name,this._likes.length>0&&this._likes.forEach((function(t){t._id==e._currentUser._id&&e.setLikesButtonFlag(!0)})),this.setLikesCounter(this._likes),this._element}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=v((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"resetValidation",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){r._hideInputError(e)}))})),b(this,"enableValidation",(function(){r._setEventListeners()})),b(this,"_setButtonState",(function(e){r._submitButton.disabled=!e})),b(this,"_handleInputForm",(function(e){r._checkInputValidity(e),r._toggleButtonState()})),b(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._handleInputForm(e)}))}))})),b(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._setButtonState(!1):r._setButtonState(!0)})),b(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e)})),b(this,"_showInputError",(function(e){var t=r._form.querySelector("#".concat(e.id,"-error"));e.classList.add(r._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(r._errorClass)})),b(this,"_hideInputError",(function(e){var t=r._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),this._inputSelector=t.inputSelector,this._form=n,this._submitButtonSelector=t.submitButtonSelector,this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector))}));function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function C(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._callbackSubmit=t,n._formElement=n._popupElement.querySelector("form"),n._formElementSubmit=n._formElement.querySelector("input[type='submit']"),n._inputList=Array.from(n._formElement.querySelectorAll("input")),n}return t=a,n=[{key:"setLoader",value:function(e){this._formElementSubmit.value=e?"Сохранение...":"Сохранить"}},{key:"close",value:function(){w(L(a.prototype),"close",this).call(this),this._formElement.reset()}},{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;w(L(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmit(e._getInputValues())}))}}],n&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(t);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=R(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._callbackSubmit=t,n._formElement=n._popupElement.querySelector("form"),n}return t=a,(n=[{key:"open",value:function(e){this._id=e,U(q(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;U(q(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmit(e._id)}))}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(t);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardsUrl=t.cardsUrl,this._userInfoUrl=t.userInfoUrl,this._userInfoUpdateUrl=t.userInfoUpdateUrl,this._headers=t.headers}var t,n;return t=e,n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._cardsUrl),{headers:this._headers,method:"GET"}).then((function(t){return e._getResponseData(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._cardsUrl),{headers:this._headers,method:"POST",body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"removeCard",value:function(e){var t=this;return fetch("".concat(this._cardsUrl,"/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return t._getResponseData(e)}))}},{key:"setLikeCard",value:function(e){var t=this;return fetch("".concat(this._cardsUrl,"/").concat(e,"/likes "),{headers:this._headers,method:"PUT"}).then((function(e){return t._getResponseData(e)}))}},{key:"removeLikeCard",value:function(e){var t=this;return fetch("".concat(this._cardsUrl,"/").concat(e,"/likes "),{headers:this._headers,method:"DELETE"}).then((function(e){return t._getResponseData(e)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._userInfoUrl),{headers:this._headers,method:"GET"}).then((function(t){return e._getResponseData(t)}))}},{key:"updateUserInfo",value:function(e){var t=this;return fetch("".concat(this._userInfoUpdateUrl),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.post})}).then((function(e){return t._getResponseData(e)}))}},{key:"updateUserAvatar",value:function(e){var t=this;return fetch("".concat(this._userInfoUpdateUrl,"/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._getResponseData(e)}))}}],n&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N={inputSelector:".form__text",submitButtonSelector:".form__button",inputErrorClass:"form__text_error",errorClass:"error_open"},F=new A({cardsUrl:"https://mesto.nomoreparties.co/v1/cohort-55/cards",userInfoUrl:"https://nomoreparties.co/v1/cohort-55/users/me",userInfoUpdateUrl:"https://mesto.nomoreparties.co/v1/cohort-55/users/me",headers:{authorization:"06de55a6-944c-4900-b569-16060b72461e","Content-Type":"application/json"}}),J=document.querySelector(".profile__button-add"),G=document.querySelector(".profile__avatar"),H=document.forms["profile-avatar-form"],M=document.querySelector(".profile__button-edit"),z=document.forms["profile-form"],$=z.querySelector(".form__text_name_name"),K=z.querySelector(".form__text_name_post"),Q=new g(N,document.forms["add-card-form"]);Q.enableValidation();var W=new g(N,H);W.enableValidation();var X=new g(N,z);X.enableValidation();var Y=new u(".popup_image");function Z(e,t){Y.open(e,t)}function ee(e){oe.open(e)}function te(e){return new y(e,"#card",Z,se.getUserInfo(),ee,ie,ae).createCard()}Y.setEventListeners();var ne=new j(".popup_add-card",(function(e){ne.setLoader(!0),F.addCard(e).then((function(e){ue.addItem(te(e)),ne.close()})).catch((function(e){console.log(e)})).finally((function(){ne.setLoader(!1)}))}));ne.setEventListeners();var re=new j(".popup_profile-form",(function(e){re.setLoader(!0),F.updateUserInfo(e).then((function(e){se.setUserInfo(e),re.close()})).catch((function(e){console.log(e)})).finally((function(){re.setLoader(!1)}))}));re.setEventListeners();var oe=new D(".popup_card-remove",(function(e){F.removeCard(e._id).then((function(){e.handleDeleteCard(),oe.close()})).catch((function(e){console.log(e)}))}));function ie(e){F.setLikeCard(e._id).then((function(t){e.setLikesButtonFlag(!0),e.setLikesCounter(t.likes)})).catch((function(e){console.log(e)}))}function ae(e){F.removeLikeCard(e._id).then((function(t){e.setLikesButtonFlag(!1),e.setLikesCounter(t.likes)})).catch((function(e){console.log(e)}))}oe.setEventListeners();var ce=new j(".popup_profile-avatar",(function(e){ce.setLoader(!0),F.updateUserAvatar(e).then((function(e){se.setUserInfo(e),ce.close()})).catch((function(e){console.log(e)})).finally((function(){ce.setLoader(!1)}))}));ce.setEventListeners();var se=new h({selectorName:".profile__title",selectorAvatar:".profile__avatar-picture",selectorDescription:".profile__subtitle"}),ue=new f({renderer:te},".elements");Promise.all([F.getUserInfo(),F.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];se.setUserInfo(o),ue.renderer(i)})).catch((function(e){console.log(e)})),J.addEventListener("click",(function(){Q.resetValidation(),ne.open()})),M.addEventListener("click",(function(){var e=se.getUserInfo();$.value=e.name,K.value=e.description,X.resetValidation(),re.open()})),G.addEventListener("click",(function(){W.resetValidation(),ce.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQnZDLE1BQVE4RCxFQUFTaEosWUFDckM2SCxFQUFvQmtDLGtCQUNwQmhCLEdBQWFoQixNQUNmLElBb0JBWixFQUFzQnhKLGlCQUFpQixTQXJDVCxXQUM1QmlLLEVBQW1CbUMsa0JBQ25CUCxHQUFZekIsTUFDZCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlbmVkXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cFBpY3R1cmUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RleHRcIik7XG4gIH1cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwUGljdHVyZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwUGljdHVyZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwYXJhbSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHBhcmFtLnJlbmRlcmVyO1xuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJlcihpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goKGNhcmREYXRhKSA9PiB7XG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKHRoaXMuX3JlbmRlcmVyKGNhcmREYXRhKSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtKSB7XG4gICAgdGhpcy5fc2VsZWN0b3JOYW1lID0gcGFyYW0uc2VsZWN0b3JOYW1lO1xuICAgIHRoaXMuX3NlbGVjdG9yQXZhdGFyID0gcGFyYW0uc2VsZWN0b3JBdmF0YXI7XG4gICAgdGhpcy5fc2VsZWN0b3JEZXNjcmlwdGlvbiA9IHBhcmFtLnNlbGVjdG9yRGVzY3JpcHRpb247XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yTmFtZSk7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3JBdmF0YXIpO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zZWxlY3RvckRlc2NyaXB0aW9uXG4gICAgKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBfaWQgOiB0aGlzLl91c2VySWQsXG4gICAgICBhdmF0YXIgOiB0aGlzLnVzZXJBdmF0YXIsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XG5cbiAgICB0aGlzLnVzZXJOYW1lID0gdXNlckluZm8ubmFtZTtcbiAgICB0aGlzLnVzZXJBYm91dCA9IHVzZXJJbmZvLmFib3V0O1xuICAgIHRoaXMudXNlckF2YXRhciA9IHVzZXJJbmZvLmF2YXRhcjtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySW5mby5faWQ7XG5cbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMudXNlck5hbWU7XG4gICAgdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy51c2VyQWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSB0aGlzLnVzZXJBdmF0YXI7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5hbHQgPSB0aGlzLnVzZXJOYW1lO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgY2FyZERhdGEsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgY3VycmVudFVzZXIsXG4gICAgaGFuZGxlUmVtb3ZlQ2FyZENsaWNrLFxuICAgIGhhbmRsZVNldExpa2VDYXJkLFxuICAgIGhhbmRsZVJlbW92ZUxpa2VDYXJkXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2N1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7XG4gICAgdGhpcy5fbGluayA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBjYXJkRGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXIgPSBjYXJkRGF0YS5vd25lcjtcbiAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkQ2xpY2sgPSBoYW5kbGVSZW1vdmVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlU2V0TGlrZUNhcmRDbGljayA9IGhhbmRsZVNldExpa2VDYXJkO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2VDYXJkQ2xpY2sgPSBoYW5kbGVSZW1vdmVMaWtlQ2FyZDtcbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUNsaWNrKCkpO1xuICAgIGlmICh0aGlzLl9vd25lci5faWQgPT0gdGhpcy5fY3VycmVudFVzZXIuX2lkKSB7XG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmRDbGljayh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWxlbWVudF9fYnV0dG9uX2FjdGl2ZVwiKSkge1xuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZUNhcmRDbGljayh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlU2V0TGlrZUNhcmRDbGljayh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlRGVsZXRlQ2FyZCA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9O1xuXG4gIHNldExpa2VzQ291bnRlciA9IChsaWtlcykgPT4ge1xuICAgIHRoaXMuX2NvdW50ZXJMaWtlcy50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcbiAgfTtcbiAgc2V0TGlrZXNCdXR0b25GbGFnID0gKGZsYWcpID0+IHtcbiAgICBpZiAoZmxhZykge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH07XG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRleHQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGV4dFwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xuICAgIHRoaXMuX2NvdW50ZXJMaWtlcyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19jb3VudGVyLWxpa2VcIik7XG4gICAgaWYgKHRoaXMuX293bmVyLl9pZCAhPSB0aGlzLl9jdXJyZW50VXNlci5faWQpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRleHQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgaWYgKHRoaXMuX2xpa2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKGxpa2UpID0+IHtcbiAgICAgICAgaWYgKGxpa2UuX2lkID09IHRoaXMuX2N1cnJlbnRVc2VyLl9pZCkge1xuICAgICAgICAgIHRoaXMuc2V0TGlrZXNCdXR0b25GbGFnKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zZXRMaWtlc0NvdW50ZXIodGhpcy5fbGlrZXMpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IocGFyYW1zLCBmb3JtKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHBhcmFtcy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gcGFyYW1zLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gcGFyYW1zLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gcGFyYW1zLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICBfc2V0QnV0dG9uU3RhdGUgPSAoaXNBY3RpdmUpID0+IHtcbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlSW5wdXRGb3JtID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb3JtKGlucHV0RWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zZXRCdXR0b25TdGF0ZShmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NldEJ1dHRvblN0YXRlKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICBzdXBlcihzZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXQgPSBjYWxsYmFjaztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudFN1Ym1pdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcImlucHV0W3R5cGU9J3N1Ym1pdCddXCJcbiAgICApO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpKTtcbiAgfVxuXG4gIHNldExvYWRlcihmbGFnKSB7XG4gICAgaWYgKGZsYWcpIHtcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50U3VibWl0LnZhbHVlID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mb3JtRWxlbWVudFN1Ym1pdC52YWx1ZSA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGZvcm1EYXRhW2VsZW1lbnQubmFtZV0gPSBlbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtRGF0YTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICBzdXBlcihzZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXQgPSBjYWxsYmFjaztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcbiAgfVxuICBvcGVuKGlkKSB7XG4gICAgdGhpcy5faWQgPSBpZFxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0KHRoaXMuX2lkKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2NhcmRzVXJsID0gb3B0aW9ucy5jYXJkc1VybDtcbiAgICB0aGlzLl91c2VySW5mb1VybCA9IG9wdGlvbnMudXNlckluZm9Vcmw7XG4gICAgdGhpcy5fdXNlckluZm9VcGRhdGVVcmwgPSBvcHRpb25zLnVzZXJJbmZvVXBkYXRlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY2FyZHNVcmx9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgfVxuXG4gIGFkZENhcmQoY2FyZERhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY2FyZHNVcmx9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGNhcmREYXRhLm5hbWUsIGxpbms6IGNhcmREYXRhLmxpbmsgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cblxuICByZW1vdmVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2NhcmRzVXJsfS8ke2lkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cblxuICBzZXRMaWtlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9jYXJkc1VybH0vJHtpZH0vbGlrZXMgYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2NhcmRzVXJsfS8ke2lkfS9saWtlcyBgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VzZXJJbmZvVXJsfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cblxuICB1cGRhdGVVc2VySW5mbyh1c2VySW5mbykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91c2VySW5mb1VwZGF0ZVVybH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IHVzZXJJbmZvLm5hbWUsIGFib3V0OiB1c2VySW5mby5wb3N0IH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xuICB9XG4gIHVwZGF0ZVVzZXJBdmF0YXIodXNlckluZm8pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXNlckluZm9VcGRhdGVVcmx9L2F2YXRhcmAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiB1c2VySW5mby5hdmF0YXIgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb25cIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5cbmNvbnN0IGZvcm1EYXRhID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX190ZXh0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b25cIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX3RleHRfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJlcnJvcl9vcGVuXCIsXG59O1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgY2FyZHNVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NS9jYXJkc1wiLFxuICB1c2VySW5mb1VybDogXCJodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTU1L3VzZXJzL21lXCIsXG4gIHVzZXJJbmZvVXBkYXRlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTUvdXNlcnMvbWVcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMDZkZTU1YTYtOTQ0Yy00OTAwLWI1NjktMTYwNjBiNzI0NjFlXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgYnV0dG9uT3BlblBvcHVwQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWFkZFwiKTtcblxuY29uc3QgYnV0dG9uT3BlblBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWF2YXRhci1mb3JtXCJdO1xuXG5jb25zdCBidXR0b25PcGVuUG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b24tZWRpdFwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5jb25zdCBpbnB1dE5hbWVQcm9maWxlRm9ybSA9IHByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fdGV4dF9uYW1lX25hbWVcIik7XG5jb25zdCBpbnB1dEpvYlByb2ZpbGVGb3JtID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX190ZXh0X25hbWVfcG9zdFwiKTtcblxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImFkZC1jYXJkLWZvcm1cIl07XG5cbmNvbnN0IHZhbGlkYXRlQ2FyZEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRGF0YSwgY2FyZEZvcm0pO1xudmFsaWRhdGVDYXJkRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRlQXZhdGFyRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1EYXRhLCBhdmF0YXJGb3JtKTtcbnZhbGlkYXRlQXZhdGFyRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRlUHJvZmlsZUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRGF0YSwgcHJvZmlsZUZvcm0pO1xudmFsaWRhdGVQcm9maWxlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHBvcHVwQ2FyZEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2ltYWdlXCIpO1xucG9wdXBDYXJkSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBDYXJkSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn1cblxuY29uc3QgaGFuZGxlT3BlbkNhcmRQb3B1cCA9ICgpID0+IHtcbiAgdmFsaWRhdGVDYXJkRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbiAgY2FyZFBvcHVwLm9wZW4oKTtcbn07XG5cbmZ1bmN0aW9uIGhhbmRsZVJlbW92ZUNhcmQoaWQpIHtcbiAgY2FyZFJlbW92ZVBvcHVwLm9wZW4oaWQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXG4gICAgY2FyZERhdGEsXG4gICAgXCIjY2FyZFwiLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICB1c2VySW5mby5nZXRVc2VySW5mbygpLFxuICAgIGhhbmRsZVJlbW92ZUNhcmQsXG4gICAgaGFuZGxlU2V0TGlrZUNhcmQsXG4gICAgaGFuZGxlUmVtb3ZlTGlrZUNhcmRcbiAgKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50LmNyZWF0ZUNhcmQoKTtcbn1cblxuY29uc3QgYWRkQ2FyZFBvcHVwRm9ybVN1Ym1pdEhhbmRsZXIgPSAoY2FyZERhdGEpID0+IHtcbiAgY2FyZFBvcHVwLnNldExvYWRlcih0cnVlKTtcbiAgYXBpXG4gICAgLmFkZENhcmQoY2FyZERhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmVuZGVyLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcbiAgICAgIGNhcmRQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBjYXJkUG9wdXAuc2V0TG9hZGVyKGZhbHNlKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKHVzZXJEYXRhKSA9PiB7XG4gIHByb2ZpbGVQb3B1cC5zZXRMb2FkZXIodHJ1ZSk7XG4gIGFwaVxuICAgIC51cGRhdGVVc2VySW5mbyh1c2VyRGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHByb2ZpbGVQb3B1cC5zZXRMb2FkZXIoZmFsc2UpO1xuICAgIH0pO1xufTtcblxuY29uc3QgYXZhdGFyUG9wdXBGb3JtU3VibWl0SGFuZGxlciA9ICh1c2VyRGF0YSkgPT4ge1xuICBhdmF0YXJQb3B1cC5zZXRMb2FkZXIodHJ1ZSk7XG4gIGFwaVxuICAgIC51cGRhdGVVc2VyQXZhdGFyKHVzZXJEYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJQb3B1cC5zZXRMb2FkZXIoZmFsc2UpO1xuICAgIH0pO1xufTtcblxuY29uc3QgY2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX2FkZC1jYXJkXCIsXG4gIGFkZENhcmRQb3B1cEZvcm1TdWJtaXRIYW5kbGVyXG4pO1xuY2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5wb3B1cF9wcm9maWxlLWZvcm1cIixcbiAgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXRcbik7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY2FyZFJlbW92ZVBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcbiAgXCIucG9wdXBfY2FyZC1yZW1vdmVcIixcbiAgaGFuZGxlQ2FyZFJlbW92ZUZvcm1TdWJtaXRcbik7XG5jYXJkUmVtb3ZlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZFJlbW92ZUZvcm1TdWJtaXQoY2FyZCkge1xuICBhcGlcbiAgICAucmVtb3ZlQ2FyZChjYXJkLl9pZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkLmhhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICAgIGNhcmRSZW1vdmVQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVNldExpa2VDYXJkKGNhcmQpIHtcbiAgYXBpXG4gICAgLnNldExpa2VDYXJkKGNhcmQuX2lkKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGNhcmQuc2V0TGlrZXNCdXR0b25GbGFnKHRydWUpO1xuICAgICAgY2FyZC5zZXRMaWtlc0NvdW50ZXIocmVzLmxpa2VzKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVSZW1vdmVMaWtlQ2FyZChjYXJkKSB7XG4gIGFwaVxuICAgIC5yZW1vdmVMaWtlQ2FyZChjYXJkLl9pZClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkLnNldExpa2VzQnV0dG9uRmxhZyhmYWxzZSk7XG4gICAgICBjYXJkLnNldExpa2VzQ291bnRlcihyZXMubGlrZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiLnBvcHVwX3Byb2ZpbGUtYXZhdGFyXCIsXG4gIGF2YXRhclBvcHVwRm9ybVN1Ym1pdEhhbmRsZXJcbik7XG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBoYW5kbGVPcGVuQXZhdGFyUG9wdXAgPSAoKSA9PiB7XG4gIHZhbGlkYXRlQXZhdGFyRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbiAgYXZhdGFyUG9wdXAub3BlbigpO1xufTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBzZWxlY3Rvck5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIHNlbGVjdG9yQXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXItcGljdHVyZVwiLFxuICBzZWxlY3RvckRlc2NyaXB0aW9uOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxufSk7XG5cbmNvbnN0IGhhbmRsZU9wZW5Qcm9maWxlUG9wdXAgPSAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lUHJvZmlsZUZvcm0udmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xuICBpbnB1dEpvYlByb2ZpbGVGb3JtLnZhbHVlID0gdXNlckRhdGEuZGVzY3JpcHRpb247XG4gIHZhbGlkYXRlUHJvZmlsZUZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59O1xuXG5jb25zdCByZW5kZXIgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiBjcmVhdGVDYXJkLFxuICB9LFxuICBcIi5lbGVtZW50c1wiXG4pO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbaW5mbywgaW5pdGlhbENhcmRzXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGluZm8pO1xuICAgIHJlbmRlci5yZW5kZXJlcihpbml0aWFsQ2FyZHMpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH0pO1xuXG5idXR0b25PcGVuUG9wdXBDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPcGVuQ2FyZFBvcHVwKTtcbmJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU9wZW5Qcm9maWxlUG9wdXApO1xuYnV0dG9uT3BlblBvcHVwQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPcGVuQXZhdGFyUG9wdXApOyJdLCJuYW1lcyI6WyJQb3B1cCIsInNlbGVjdG9yIiwidGhpcyIsIl9wb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZlbnQiLCJrZXkiLCJjbG9zZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cFBpY3R1cmUiLCJfcG9wdXBDYXB0aW9uIiwibmFtZSIsImxpbmsiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIlNlY3Rpb24iLCJwYXJhbSIsIl9yZW5kZXJlciIsInJlbmRlcmVyIiwiX3NlbGVjdG9yIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZm9yRWFjaCIsImNhcmREYXRhIiwiYXBwZW5kIiwiZWxlbWVudCIsInByZXBlbmQiLCJfc2VsZWN0b3JOYW1lIiwic2VsZWN0b3JOYW1lIiwiX3NlbGVjdG9yQXZhdGFyIiwic2VsZWN0b3JBdmF0YXIiLCJfc2VsZWN0b3JEZXNjcmlwdGlvbiIsInNlbGVjdG9yRGVzY3JpcHRpb24iLCJfbmFtZUVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsIl9kZXNjcmlwdGlvbkVsZW1lbnQiLCJkZXNjcmlwdGlvbiIsIl9pZCIsIl91c2VySWQiLCJhdmF0YXIiLCJ1c2VyQXZhdGFyIiwidXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJBYm91dCIsImFib3V0IiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJjdXJyZW50VXNlciIsImhhbmRsZVJlbW92ZUNhcmRDbGljayIsImhhbmRsZVNldExpa2VDYXJkIiwiaGFuZGxlUmVtb3ZlTGlrZUNhcmQiLCJfbGlrZUJ1dHRvbiIsIl9oYW5kbGVSZW1vdmVMaWtlQ2FyZENsaWNrIiwiX2hhbmRsZVNldExpa2VDYXJkQ2xpY2siLCJfZWxlbWVudCIsImxpa2VzIiwiX2NvdW50ZXJMaWtlcyIsImxlbmd0aCIsImZsYWciLCJfbmFtZSIsIl9jdXJyZW50VXNlciIsIl9saW5rIiwiX293bmVyIiwib3duZXIiLCJfbGlrZXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlUmVtb3ZlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9kZWxldGVCdXR0b24iLCJfY2FyZEltYWdlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkVGV4dCIsIl9zZXRFdmVudExpc3RlbmVycyIsImxpa2UiLCJzZXRMaWtlc0J1dHRvbkZsYWciLCJzZXRMaWtlc0NvdW50ZXIiLCJGb3JtVmFsaWRhdG9yIiwicGFyYW1zIiwiZm9ybSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dExpc3QiLCJpbnB1dEVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJpc0FjdGl2ZSIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFuZGxlSW5wdXRGb3JtIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiX3NldEJ1dHRvblN0YXRlIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm0iLCJpZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFjayIsIl9jYWxsYmFja1N1Ym1pdCIsIl9mb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudFN1Ym1pdCIsInZhbHVlIiwicmVzZXQiLCJmb3JtRGF0YSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiQXBpIiwib3B0aW9ucyIsIl9jYXJkc1VybCIsImNhcmRzVXJsIiwiX3VzZXJJbmZvVXJsIiwidXNlckluZm9VcmwiLCJfdXNlckluZm9VcGRhdGVVcmwiLCJ1c2VySW5mb1VwZGF0ZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfZ2V0UmVzcG9uc2VEYXRhIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3N0IiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImJ1dHRvbk9wZW5Qb3B1cENhcmQiLCJidXR0b25PcGVuUG9wdXBBdmF0YXIiLCJhdmF0YXJGb3JtIiwiZm9ybXMiLCJidXR0b25PcGVuUG9wdXBQcm9maWxlIiwicHJvZmlsZUZvcm0iLCJpbnB1dE5hbWVQcm9maWxlRm9ybSIsImlucHV0Sm9iUHJvZmlsZUZvcm0iLCJ2YWxpZGF0ZUNhcmRGb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRlQXZhdGFyRm9ybSIsInZhbGlkYXRlUHJvZmlsZUZvcm0iLCJwb3B1cENhcmRJbWFnZSIsIm9wZW4iLCJoYW5kbGVSZW1vdmVDYXJkIiwiY2FyZFJlbW92ZVBvcHVwIiwiY3JlYXRlQ2FyZCIsImdldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkUG9wdXAiLCJzZXRMb2FkZXIiLCJhZGRDYXJkIiwicmVuZGVyIiwiYWRkSXRlbSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJwcm9maWxlUG9wdXAiLCJ1c2VyRGF0YSIsInVwZGF0ZVVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXJkIiwicmVtb3ZlQ2FyZCIsImhhbmRsZURlbGV0ZUNhcmQiLCJzZXRMaWtlQ2FyZCIsInJlbW92ZUxpa2VDYXJkIiwiYXZhdGFyUG9wdXAiLCJ1cGRhdGVVc2VyQXZhdGFyIiwiVXNlckluZm8iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJpbmZvIiwiaW5pdGlhbENhcmRzIiwicmVzZXRWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==